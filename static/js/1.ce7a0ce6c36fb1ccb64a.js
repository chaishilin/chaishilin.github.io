webpackJsonp([1],{Bcig:function(t,e){},WG5S:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{storyExample:{storyId:"",content:"请输入内容",minAge:4,maxAge:7,attribute:{body:{weight:0,hanger:0,friendly:0,clean:0},mod:{happy:0,angry:0,terrified:0},health:{totalHealth:0,headHealth:0,bodyHealth:0,footHealth:0,tailHealth:0},born:{lucky:0,intelligence:0,strength:0,charm:0}},attributeStr:"null",state:"01",attributeLow:{body:{weight:0,hanger:0,friendly:0,clean:0},mod:{happy:0,angry:0,terrified:0},health:{totalHealth:0,headHealth:0,bodyHealth:0,footHealth:0,tailHealth:0},born:{lucky:0,intelligence:0,strength:0,charm:0}},attributeLowStr:"null",attributeHigh:{body:{weight:10,hanger:10,friendly:10,clean:10},mod:{happy:10,angry:10,terrified:10},health:{totalHealth:10,headHealth:10,bodyHealth:10,footHealth:10,tailHealth:10},born:{lucky:10,intelligence:10,strength:10,charm:10}},attributeHighStr:"null"},storyList:[],choosedItem:"0",contentLike:"",choosedAttr:"",stateMap:{"01":"启用","00":"未启用"}}},created:function(){this.getStoryList()},methods:{handleClick:function(){console.log(this.choosedAttr)},handleChange:function(){console.log("hh")},UpdateStory:function(t,e){var a=this;""==t&&(t=this.storyExample),t.state=e,this.$store.dispatch("UpdateStory",t).then(function(t){var e=t.data.code;200==e?(a.$message.info("更新成功"),a.getStoryList()):401==e?(a.$message.error("请先登录"),a.$router.push({path:"/"})):a.$message.error("调用失败 "+t.data.msg)}).catch(function(t){return console.log(t),!1}).finally(function(){})},getStoryList:function(){var t=this,e={};""!=this.contentLike&&(e.content=this.contentLike),this.$store.dispatch("GetStory",e).then(function(e){var a=e.data.code;console.log(e.data),200==a?t.storyList=e.data.data:401==a?(t.$message.error("请先登录"),t.$router.push({path:"/"})):t.$message.error("调用失败 "+e.data.msg)}).catch(function(t){return console.log(t),!1}).finally(function(){})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("\n    故事编辑\n    "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.UpdateStory("","00")}}},[t._v("新增故事")])],1),t._v(" "),a("h3",[a("el-input",{attrs:{placeholder:"查找内容"},model:{value:t.contentLike,callback:function(e){t.contentLike=e},expression:"contentLike"}}),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.getStoryList}},[t._v("搜索")])],1),t._v(" "),a("el-collapse",{attrs:{accordion:""},model:{value:t.choosedItem,callback:function(e){t.choosedItem=e},expression:"choosedItem"}},t._l(t.storyList,function(e,n){return a("el-collapse-item",{key:n,attrs:{title:e.content,name:n,value:e}},[a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("故事id ："+t._s(e.storyId))]),t._v(" "),a("el-tag",[t._v(t._s(t.stateMap[e.state]))]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(a){return t.UpdateStory(e,"01")}}},[t._v("使用")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(a){return t.UpdateStory(e,"00")}}},[t._v("取消使用")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(a){return t.UpdateStory(e,"10")}}},[t._v("删除")])],1),t._v(" "),a("el-form",{ref:"form",refInFor:!0,attrs:{model:e,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.content,callback:function(a){t.$set(e,"content",a)},expression:"item.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"月龄范围"}},[t._v("\n              最小月龄\n              "),a("el-input-number",{attrs:{min:0,max:e.maxAge,label:"最小月龄"},on:{change:t.handleChange},model:{value:e.minAge,callback:function(a){t.$set(e,"minAge",a)},expression:"item.minAge"}}),t._v("\n              最大月龄\n              "),a("el-input-number",{attrs:{min:e.minAge,max:180,label:"最大月龄"},on:{change:t.handleChange},model:{value:e.maxAge,callback:function(a){t.$set(e,"maxAge",a)},expression:"item.maxAge"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"属性值"}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.choosedAttr,callback:function(e){t.choosedAttr=e},expression:"choosedAttr"}},t._l(e.attribute,function(n,o){return a("el-tab-pane",{key:o,attrs:{label:o,name:o}},t._l(n,function(l,r){return a("div",[t._v("\n                    "+t._s(r)+"\n                    "),a("el-tag",[t._v("属性加成")]),t._v(" "),a("el-input-number",{attrs:{min:-10,max:10,label:r},on:{change:t.handleChange},model:{value:n[r],callback:function(e){t.$set(n,r,e)},expression:"baseAttr[attrKey]"}}),t._v(" "),a("el-tag",[t._v("触发下限")]),t._v(" "),a("el-input-number",{attrs:{min:0,max:e.attributeHigh[o][r],label:r},on:{change:t.handleChange},model:{value:e.attributeLow[o][r],callback:function(a){t.$set(e.attributeLow[o],r,a)},expression:"item.attributeLow[key][attrKey]"}}),t._v(" "),a("el-tag",[t._v("触发上限")]),t._v(" "),a("el-input-number",{attrs:{min:e.attributeLow[o][r],max:10,label:r},on:{change:t.handleChange},model:{value:e.attributeHigh[o][r],callback:function(a){t.$set(e.attributeHigh[o],r,a)},expression:"item.attributeHigh[key][attrKey]"}})],1)}),0)}),1)],1)],1)],1)],1)])}),1)],1)},staticRenderFns:[]};var l=a("C7Lr")(n,o,!1,function(t){a("Bcig")},null,null);e.default=l.exports}});
//# sourceMappingURL=1.ce7a0ce6c36fb1ccb64a.js.map